<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Elevliste Bookmarklet</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">
    <div class="container py-5">
        <h1 class="text-center mb-4">Elevliste Bookmarklet</h1>
        <p class="text-center mb-4">Træk knappen nedenfor til din bogmærkelinje for at installere bookmarkleten, eller følg de manuelle instruktioner længere nede.</p>
        
        <div class="text-center mb-5">
            <a href="javascript:(function()%7Bvar%20elever%3Ddocument.querySelectorAll(%22%23participants%20tbody%20tr%3Anot(.emptyrow)%22)%2CcopyText%3D%22%22%2CselectedCount%3D0%3Bfunction%20copyTextToClipboard(e)%7Bvar%20t%3Ddocument.createElement(%22textarea%22)%3Bt.value%3De%2Cdocument.body.appendChild(t)%2Ct.focus()%2Ct.select()%3Btry%7Bvar%20o%3Ddocument.execCommand(%22copy%22)%3Balert(%22Kopieringen%20af%20elevnavne%20%22%2B(o%3F%22lykkedes%22%3A%22fejlede%22))%7Dcatch(r)%7Balert(%22Oops%2C%20kunne%20ikke%20kopiere%22%2Cr)%7Ddocument.body.removeChild(t)%7Delever.forEach(e%3D%3E%7Bvar%20t%3De.querySelector('input%5Btype%3D%22checkbox%22%5D')%3Bif(t%26%26t.checked)%7Bvar%20o%2Cr%2Cc%2Cl%2Cn%2Ca%3DArray.from(e.querySelector(%22th.c1%20a%22).childNodes).filter(e%3D%3Ee.nodeType%3D%3D%3DNode.TEXT_NODE).map(e%3D%3Ee.textContent.trim()).join(%22%22).split(%22%20%22)%3BcopyText%2B%3D%60%24%7Ba%5B0%5D%7D%20%24%7Ba%5Ba.length-1%5D%5B0%5D%7D.%60%2CselectedCount%2B%2B%7D%7D)%2CcopyText%3DcopyText.trim()%2C0%3D%3D%3DselectedCount%3Falert(%22Ingen%20elever%20er%20markeret.%20V%5Cxe6lg%20mindst%20%5Cxe9n%20elev%20for%20at%20forts%5Cxe6tte.%22)%3AcopyTextToClipboard(copyText)%7D)()" 
               class="btn btn-primary btn-lg" title="Træk dette link til din bogmærkelinje">
               Udtræk brugerliste
            </a>
        </div>

        <div class="card">
            <div class="card-body">
                <h2>Manuel opsætning</h2>
                <p>Hvis du ikke vil trække knappen, kan du manuelt oprette et bogmærke i din browser:</p>
                <ol>
                    <li>Kopiér koden nedenfor.</li>
                    <li>Opret et nyt bogmærke i din browser.</li>
                    <li>Indsæt koden i URL-feltet for bogmærket.</li>
                </ol>
                <textarea class="form-control" rows="5" readonly>
javascript:(function()%7Bvar%20elever%3Ddocument.querySelectorAll(%22%23participants%20tbody%20tr%3Anot(.emptyrow)%22)%2CcopyText%3D%22%22%2CselectedCount%3D0%3Bfunction%20copyTextToClipboard(e)%7Bvar%20t%3Ddocument.createElement(%22textarea%22)%3Bt.value%3De%2Cdocument.body.appendChild(t)%2Ct.focus()%2Ct.select()%3Btry%7Bvar%20o%3Ddocument.execCommand(%22copy%22)%3Balert(%22Kopieringen%20af%20elevnavne%20%22%2B(o%3F%22lykkedes%22%3A%22fejlede%22))%7Dcatch(r)%7Balert(%22Oops%2C%20kunne%20ikke%20kopiere%22%2Cr)%7Ddocument.body.removeChild(t)%7Delever.forEach(e%3D%3E%7Bvar%20t%3De.querySelector('input%5Btype%3D%22checkbox%22%5D')%3Bif(t%26%26t.checked)%7Bvar%20o%2Cr%2Cc%2Cl%2Cn%2Ca%3DArray.from(e.querySelector(%22th.c1%20a%22).childNodes).filter(e%3D%3Ee.nodeType%3D%3D%3DNode.TEXT_NODE).map(e%3D%3Ee.textContent.trim()).join(%22%22).split(%22%20%22)%3BcopyText%2B%3D%60%24%7Ba%5B0%5D%7D%20%24%7Ba%5Ba.length-1%5D%5B0%5D%7D.%60%2CselectedCount%2B%2B%7D%7D)%2CcopyText%3DcopyText.trim()%2C0%3D%3D%3DselectedCount%3Falert(%22Ingen%20elever%20er%20markeret.%20V%5Cxe6lg%20mindst%20%5Cxe9n%20elev%20for%20at%20forts%5Cxe6tte.%22)%3AcopyTextToClipboard(copyText)%7D)()
                </textarea>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS (valgfri) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
